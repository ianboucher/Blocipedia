<h1>Edit this Wiki</h1>

<div class="row">
  <div class="col-md-4">

    <%= form_for @wiki do |f| %>
    <!-- use form_group_tag from ApplicationHelper to display errors -->
      <%= form_group_tag(@wiki.errors[:title]) do %>
        <%= f.label :title %>
        <%= f.text_field :title, class: 'form-control', placeholder: "Enter Wiki title here" %>
      <% end %>

      <%= form_group_tag(@wiki.errors[:body]) do %>
        <%= f.label :body %>
        <%= f.text_area :body, rows: 20, class: 'form-control', placeholder: "Enter your Wiki text here" %>
      <% end %>

      <% if current_user.admin? || current_user.premium? %>
          <%= f.label :private, class: 'checkbox col-md-4' do %>
            <%= f.check_box :private %> Private Wiki
          <% end %>
      <% end %>

      <% if current_user.premium? && @wiki.user_id == current_user.id %>
        <div class="form-group">
          <%= f.label :collaborations  %>
          <%= f.text_field :collaborations,
                            class: 'form-control',
                            placeholder: "Enter usernames (separated by commas)",
                            value: @wiki.collaborating_users.map(&:username).join(", ") %>
        </div>
      <% end %>

      <div class="form-group">
        <%= f.submit "Save", class: 'btn btn-success' %>
      </div>

    <% end %>
  </div>
</div>
